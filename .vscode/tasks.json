{
    "version": "2.0.0",
    "tasks": [
        {
            "label": "[Minikube] Tunnel",
            "type": "shell",
            "command": "minikube",
            "args": [
                "tunnel",
            ]
        },
        {
            "label": "[Minikube] Push",
            "type": "shell",
            "command": "./push-minikube.sh",
            "options": {
                "cwd": "${workspaceFolder}/kubes/scripts/"
            },
            "dependsOn": [
                "Push All"
            ]
        },
        {
            "label": "Push All",
            "type": "shell",
            "command": "python3",
            "dependsOn": [
                "Build All"
            ],
            "options": {
                "cwd": "${workspaceFolder}/bin"
            },
            "args": [
                "build.py",
                "push"
            ]
        },
        {
            "label": "Build All",
            "type": "shell",
            "command": "python3",
            "dependsOn": [
                "Clean All"
            ],
            "options": {
                "cwd": "${workspaceFolder}/bin"
            },
            "args": [
                "build.py",
                "build"
            ]
        },
        {
            "label": "Clean All",
            "type": "shell",
            "command": "python3",
            "options": {
                "cwd": "${workspaceFolder}/bin"
            },
            "args": [
                "build.py",
                "clean"
            ]
        },
        {
            "label": "[K8S] Teardown",
            "type": "shell",
            "command": "./teardown.sh",
            "options": {
                "cwd": "${workspaceFolder}/kubes/"
            },
        },
        {
            "label": "[K8S] Setup",
            "type": "shell",
            "command": "./setup.sh",
            "options": {
                "cwd": "${workspaceFolder}/kubes/"
            },
            "dependsOn": [
                "[K8S] Teardown"
            ]
        },
        {
            "label": "[MSTK] Start",
            "type": "shell",
            "dependsOn": [
                "[Minikube] Push",
                "[K8S] Setup"
            ],
            "dependsOrder": "sequence"
        },
        {
            "label": "[MSTK] Test",
            "type": "shell",
            "command": "./build.sh",
            "options": {
                "cwd": "${workspaceFolder}/example/"
            }
        },
    ]
}
